# Change Log

## 1.5.2
- **Улучшенная вставка блока "ВложенныеСценарии":**
    - Автозаполнение из выделения: Если при вызове команды выделена строка, соответствующая вызову сценария, расширение теперь попытается найти файл этого сценария.
    - В случае успеха, поля `UIDВложенныйСценарий` и `ИмяСценария` во вставляемом блоке будут автоматически заполнены значениями `UID` и `Имя` из найденного файла сценария.
    - Если файл сценария не найден, или из него не удалось извлечь UID/Имя, блок будет вставлен с пустыми значениями, как и раньше.
- **Секции контекстного меню**:
    - Пункты контекстного меню разделены на 3 категории:
        - Навигация
        - Редактирование
        - Создание

## 1.5.0
- **Автодополнение для вызовов вложенных сценариев:**
    - При вводе текста в блоке `ТекстСценария:` предлагаются варианты автодополнения не только для стандартных шагов Gherkin, **но и для вызовов всех найденных сценариев**.
    - Если выбранный для вставки сценарий содержит параметры, он вставляется как многострочный сниппет, включающий имя сценария и строки для каждого параметра с плейсхолдерами для их значений. 
    - Список сценариев и их параметров для автодополнения обновляется при нажатии кнопки "Обновить" на панели "1C:Drive Test Helper" (вместе с обновлением данных для Phase Switcher).

- **Внешняя загрузка определений шагов Gherkin:**
    - Добавлена возможность загружать файл `steps.htm` (используемый для автодополнения и подсказок) с внешнего URL-адреса. Это позволяет обновлять определения шагов без необходимости обновления всего расширения.
    - В настройки расширения пользователь может указать URL для файла `steps.htm` (по умолчанию установлена ссылка на файл в репозитории). Если оставить пустым, будет использоваться только локальная копия из расширения.
    - Реализован механизм кеширования: загруженный файл сохраняется локально и используется в течение 24 часов или до следующего изменения URL.
    - Добавлена новая команда в палитру команд: `1C:Drive - Обновить библиотеку шагов`. Эта команда принудительно загружает `steps.htm` с указанного URL и обновляет кеш.
    - В случае недоступности внешнего ресурса или ошибки загрузки, расширение будет использовать данные из кеша (если он валиден) или, в крайнем случае, локальную копию `steps.htm`, включенную в состав расширения, для обеспечения непрерывной работы.

- **Кнопки создания сценариев:**
    - В панель Phase Switcher добавлены кнопки создания Главных или Вложенных сценариев.

- **Исправлено:**
    - При создании нового Главного сценария, список тестов в Phase Switcher теперь автоматически обновляется.



## 1.4.1
- Добавлена кнопка Свернуть/Развернуть все фазы
- Добавлена индикация непримененных изменений внутри фазы
- Обновление стилей кнопок 

## 1.4.0

- **Интеграция сборки тестов в TypeScript**:
    - Полностью перенесена логика скрипта `BuildYAML.bat` в код плагина (`phaseSwitcher.ts`).
    - Процесс сборки тестов теперь управляется непосредственно из расширения, используя API VS Code и Node.js для файловых операций и запуска процессов 1С.
    - [BETA] Сборка тестов теперь запускается на macOS.
- **Улучшения интерфейса "Phase Switcher"**:
    - Заменен выпадающий список фаз на древовидное представление (Tree-View) с раскрывающимися группами.
    - В заголовки групп фаз добавлен счетчик включенных тестов.
    - Добавлены индивидуальные кнопки-переключатели в заголовок каждой фазы для переключения тестов внутри конкретной фазы. _(Удалена общая кнопка "Переключить фазу".)_
- **Исправления**:
    - [Кнопка Обновить активна во время сборки тестов](https://github.com/kakoytochelik/1cDriveTestHelper/issues/2)
    - [Не запускается сборка тестов, если путь до пустой базы содержит пробелы](https://github.com/kakoytochelik/1cDriveTestHelper/issues/1)

## 1.3.3

- Интегрирована функциональность сборки тестов в панель расширения с заменой переменных в тестах
- Добавлены настройки расширения
- Добавлены иконки кнопок
- Исправлены стили и отображение некоторых элементов интерфейса

## 1.2.0

- Реализовано автодополнение шагов Gherkin на основе библиотеки шагов Vanessa Automation.
- Добавлены всплывающие подсказки для шагов Gherkin, отображающие описание шага из библиотеки шагов Vanessa Automation при наведении мыши на строку шага в YAML файлах.

## 1.1.1

- Добавлена возможность переходить к родительским сценариям из Phase Switcher
- Вставка блоков ВложенныеСценарии и ПараметрыСценария теперь происходит автоматически в соответствующие секции, а не в позицию курсора
- Улучшено отображение длинных названий сценариев в Phase Switcher

## 1.0.0

- Первый релиз